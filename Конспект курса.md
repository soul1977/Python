# Конспект курса "Python для сетевых инженеров"

## Подготовка к работе

Сайт https://pyneng.github.io/
Книга Python для сетевых инженеров https://pyneng.github.io/docs/pyneng-book/
Книга про Git https://git-scm.com/book/ru/v2
Книга по Python - "Python trick the book"

### Pip

Pip - это система управления пакетами. В зависимости от того, как установлен и настроен Python в системе, может потребоваться использовать pip3 вместо pip.
`pip --version`

#### Установка модулей

```bash
pip install tabulate
pip uninstall tabulate
pip3 install --upgrade tabulate

python3.7 -m pip install tabulate
```

#### Виртуальные окружения

В Python есть несколько вариантов для создания виртуальных окружений.
Использовать можно любой из них. Для начала можно использовать virtualenvwrapper

`sudo pip3.7 install virtualenvwrapper`

После установки, в файле `.bashrc`, находящимся в домашней папке текущего пользователя,
нужно добавить несколько строк:

```bash
export VIRTUALENVWRAPPER_PYTHON=/usr/local/bin/python3.7
export WORKON_HOME=~/venv
. /usr/local/bin/virtualenvwrapper.sh
```

Перезапуск командного интерпретатора:
`exec bash`

#### Работа с виртуальными окружениями

`mkvirtualenv --python=/usr/local/bin/python3.7 pyneng` - cоздание нового
`workon pyneng` - переход в созданное виртуальное окружение
`deactivate` - выход из виртуального окружения
`rmvirtualenv test` - удаление виртуального окружения
`lssitepackages` - какие пакеты установлены в виртуальном окружении

### Git

Дополнительные ресурсы, которые позволят глубже познакомиться с Git:

GitHowTo https://githowto.com/ru - интерактивный howto на русском
git/github guide. a minimal tutorial http://kbroman.org/github_tutorial/ - минимально необходимые знания для работы с Git и GitHub
Pro Git book. https://git-scm.com/book/en/v2/ Эта же книга на русском

#### Установка Git

Можно установить Git локально и запустить web-интерфейс.
Например, GitLab. Вариантов много.

apt install git

#### Настройка Git

Для начала работы с Git, необходимо указать имя и e-mail пользователя, которые будут использоваться для синхронизации локального репозитория с репозиторием на GitHub:

```bash
git config --global user.name "username"
git config --global user.email "username.user@example.com"
```
global - используется для всех проетов
Посмотреть настройки Git можно таким образом:

```bash
git config --list
```
Файл исключений (эти файлы не отслеживаются Git)

```bash
.gitignore
    *.un~ (имя файла)
    .ssh (имя каталога)
```

Настройка отображения кириллических символов
```
$ git config --global core.quotepath false
```

#### Подключение к своему репозиторию по SSH

```bash
eval "$(ssh-agent -s)"
ssh-add ~/.ssh/github_rsa
```

Проверка:

```bash
ssh -T git@github.com
Hi username! You've successfully authenticated, but GitHub does not provide shell access.
```

#### Команды Git

`git help команда` - help по команде
`git init` - инициализация репозитария (создается каталог .git, не забыть создать и перейти в каталог)
`git remote -v` - отображение свойств репозитария на удаленном сервере
`Ctrl-R` - вход в режим Git, когда он ищет вводимые символы в истории команд
`git checkout -- file` - откатить изменения в файле
* клонирование репозитария
`git clone https://github.com/natenka/pyneng-examples-exercises`

* работа
`git status`
`git pull` - обновление локального репозитория
`git add .` - добавляем в stage все файлы (рекурсивно вниз от текущего репозитория)
`git add r[1-3].txt`
`git commit -a` - add + commit
`git reset HEAD имя_файла` - убрать файл из stage area
`git rm -cached имя_файла_или_каталога` - убрать из репозитория (файл на диске остается)
`git commit -m "комментарий"` - коммитим измененния
`git push origin master` - загружаем в репозитарий изменения

* просмотр
`git diff` - показывает, какие изменения были внесены с момента последнего коммита
`git diff --cached` - diff в staged area
`git diff --staged` - отличия между staging и последним коммитом
`git log -p origin/master..` – она покажет, какие изменения вы собираетесь добавлять в свой репозиторий на GitHub
`git log -p -1` - какие именно изменения были внесены за 1 коммит
`git log -p ..origin/master` - какие изменения были выполнены с момента
последней синхронизации

#### Отображение статуса репозитория в приглашении

```bash
cd ~
git clone https://github.com/magicmonty/bash-git-prompt.git .bash-git-prompt --depth=1
```

А затем добавить в конец файла .bashrc такие строки:

```bash
GIT_PROMPT_ONLY_IN_REPO=1
source ~/.bash-git-prompt/gitprompt.sh
```
#### Github
Чтобы сдать сделанные задания, нужно в проделать ряд манипуляций в интерфейсе GitHub или использовать скрипт
см. раздел инструменты на сайте https://pyneng.github.io/

### Visual Studio
Установим дополнения (Extensions)
* **Markdown extension pack** - появляется возможность просмотра "на лету"
*  **Git history** - просмотр изменений в Git

Remote Development using SSH https://code.visualstudio.com/docs/remote/ssh
https://marketplace.visualstudio.com/items?itemName=ms-vscode-remote.vscode-remote-extensionpack

